## 注意点

1. 在 C 语言中，数组下标运算符 `[]` 的优先级高于解引用运算符 `*`。因此如果某个变量`var`存的是一个一维数组的首地址，想要获取该一维数组的首元素应该写`(*var)[0]`
2. 

## 二维数组和指向一维数组的指针的区别

**“如何通过指针参数向函数外部返回一个数组”**。

### 背景：LeetCode 的参数定义

在 LeetCode 的 C 语言题目中，参数通常是这样定义的：

```
int** func(int** returnColumnSizes)
```

- **它的含义**：是一个“指向 `int*` 的指针”。
- **它的目的**：LeetCode 的后台程序传给你一个地址，希望你在这个地址里填入一个 **`int` 数组的首地址**，用来告诉它每一行有多少个元素。

------

### 第一种写法（正确）：修改箱子里的值

```
*returnColumnSizes = (int*)malloc(sizeof(int) * ansTop);
```

- **逻辑**：
  1. `returnColumnSizes` 是外层函数传进来的地址（你可以理解为一个存放指针的盒子）。
  2. `*returnColumnSizes` 是对该地址进行**解引用**，也就是打开盒子。
  3. `malloc(sizeof(int) * ansTop)` 申请了一块连续的内存空间，用来存 `ansTop` 个整数。
  4. 最后，把这块内存的首地址**放入盒子中**。
- **结果**：当函数结束返回到外层时，外层函数打开这个盒子，就能拿到你申请的数组。这是正确的“返回数组”方式。

###  第二种写法（错误）：修改局部变量

```
returnColumnSizes = (int**)malloc(sizeof(int*) * ansTop);
```

- **逻辑**：
  1. `returnColumnSizes` 本身只是一个局部变量（它是一个存放地址的变量，初始值是外层传进来的地址）。
  2. 这行代码用 `malloc` 申请了一块存 `int*` 指针的空间，并把这个新空间的地址**赋给了局部变量 `returnColumnSizes`**。
- **结果**：
  - 你把函数参数 `returnColumnSizes` 的指向改了，让它指向了你新申请的空间。
  - **但是**，外层函数传给你的那个“原始盒子”里依然是空的（或者是随机值）。
  - 由于 C 语言是**值传递**，你修改了参数本身（指针的指向），并不会影响调用者手中的指针。当函数结束，这个局部变量就消失了，你申请的内存也找不到了（内存泄漏）。

------

### 形象类比

假设 LeetCode 给提供了一个 **信封 (returnColumnSizes)**，信封里有一张 **纸条 (\*returnColumnSizes)**。

- **写法一 (`*returnColumnSizes = ...`)**：

  你打开信封，把纸条拿出来，在纸条上写下你新买的房子的地址（`malloc` 申请的地址）。

  👉 **结果**：LeetCode 收到信封，打开一看，知道了你的房子在哪。

- **写法二 (`returnColumnSizes = ...`)**：

  你扔掉了 LeetCode 给你的信封，你自己去文具店买了个新信封，在里面的纸条上写了地址。

  👉 **结果**：LeetCode 手里拿的还是那个旧信封，里面还是旧纸条（甚至没纸条）。它完全不知道你买了新信封。

###  总结对比

| **特性**          | ***returnColumnSizes = (int\*)malloc(...)** | **returnColumnSizes = (int\**)malloc(...)** |
| ----------------- | ------------------------------------------- | ------------------------------------------- |
| **操作对象**      | 外部传入的指针所指向的内容                  | 函数内部的局部变量（指针本身）              |
| **分配类型**      | `int` 类型的数组（存储列宽）                | `int*` 类型的数组（存储指针）               |
| **LeetCode 结果** | **正确**，能成功返回每行长度                | **错误**，外层会拿到 NULL 或野指针导致崩溃  |
| **内存效果**      | 成功将堆空间地址传给调用者                  | 局部修改，函数退出后丢失，造成内存泄漏      |